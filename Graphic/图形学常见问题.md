###### 1.给定点集求凸包

差不多就是按照y从小到大排序，多个y去x最小的，然后逆时针对n条边进行遍历，利用向量点乘的夹角

###### 2.向量点乘和叉乘的几何意义

点乘：夹角

叉乘：判断向量的左右和求垂直与两个向量的向量

###### 3.如何判断点再三角形内

​	重心法、内角和、同向法

重心法：

内角和：如果点在内部，三角形与点构成的三个夹角一定是180度，但是效率低下

同向法：根据向量的叉乘来判断生成的边是在三角形的边哪边，同侧则在里面，否则在外面

###### 4.如何判断点在矩形内

​	判断是否在两个三角形内

​	在矩形上找一个确定点、需要判断的点和矩形内的确定点生成一条射线，如果交点是偶数则在外面，基数就在里面

###### 5.如何判断一个多变形是凸多边形

跟判断三角形一样使用叉乘求方向，按顺序变量边，前一个边都在后一个边的同侧

###### 6.已知发现向量和入射向量求反射向量

![image-20220317095645876](E:\Document\Graphic\pic\image-20220317095645876.png)

###### 7.叉乘求多边形的面积*

![image-20220317125207182](E:\Document\Graphic\pic\image-20220317125207182.png)

多边形内部随便找个点，逆时针求三角形的面积

![image-20220317125813604](E:\Document\Graphic\pic\image-20220317125813604.png)

###### 8.空间内两直线求交*

判断是否共面，不共面则必不可能相交，共面看是否平行

###### 9.空间点到空间三角形的距离*

点到面的距离计算 

1.两次投影

2.快速计算 以三角形的一条边为x轴且在xy平面，然后求z，然后再投影

###### 10.行列式为0说明什么

说明向量线性相关

###### 11.齐次坐标

0：向量；1：坐标；

可以统一平移旋转缩放三个矩阵

###### 12.如何判断射线与球体相交，如何优化*

球心到线的距离

射线表达式，带入到球的表达式中求解

###### 13.法线空间做了什么

法线贴图，再切线空间中做相对运算

###### 14.裁剪空间做了什么

裁剪面 裁剪视锥体外

###### 15.视锥体如何定义

指定摄像机的位置和看向的方向以及向上的方向

###### 16.M矩阵*

一般来说先缩放再平移或者旋转

变换矩阵中哪些是正交矩阵？

旋转矩阵正交

![image-20220317112721052](E:\Document\Graphic\pic\image-20220317112721052.png)



###### 17.什么是欧拉角、它的优缺点*

按照一定的轴顺序旋转，如先x轴旋转、再y轴旋转、再z轴旋转

问题：可能会出现万向锁，当其中某两个轴重合的时候就丧失了一个方向的旋转能力

###### 18.什么是万向锁，怎么解决*

###### 19.四元数、作用是什么、如何进行插值*

###### 20.说一下GPU渲染管线

###### 21.什么时候再顶点做光照、什么时候在片元做

一般情况下来说如果放在片元中做光照的亮暗交接更加平滑

如果顶点非常的多的时候点点中做光照也能达到差不多的效果

###### 22.知道哪些光照模型

###### 兰伯特漫反射

使用光照方向和法线的夹角来决定漫反射的比例

###### gurand顶点着色

在顶点中进行光照

###### phong 

Color = Ambient + Diffuse + Specular

C(specular) = C(light)*M(specular)saturate(v*r)^M（shininess）

phong光照反射，以反射的方向和视角方向的夹角来确定反射光的强度

###### blinnPhong

添加半程向量，H=normalize(V+L)  计算n和h的夹角来确定反射光的强度，

C(specular) = C(light)*M(specular)saturate(H，N)^M（shininess）光泽度来确定泛着中心大小

###### 24.走样产生的原理是什么，如何解决

深度值的精度不够、以及深度纹理的分辨率不够，导致多个像素采样到的是同一个深度图的像素

###### 25.Mipmap的原理、如何决定使用哪一层

通过滤波，逐步过滤高频信息

###### 26.发现贴图如何存储

Noralize - 》 （N+1）/2

###### 27.伽马矫正是什么、为什么

color^(1/gama),人对暗部的细节比较敏感，然颜色不要呈线性分布

###### 29.什么是色调映射、了解哪些色调映射的算法

还原高亮度部分的细节

是一个损失很小的转换浮点颜色值，高曝光值会显示更多的暗部细节、低曝光值会减少黑暗部分的细节

###### 30.shadowMap实现、缺点、改进

实现忽略，硬阴影，锯齿

###### 31.PCF、PCSS、CSM、VSM

PCF：主要是在采样深度图的时候做个均值(周围的深度的平均，距离中心点不同距离的点的权重不同)，做过滤波，或者用泊松分布采样，过度更平滑、再加个随机旋转泊松采样的采样点，效果更好一些

PCSS：

![image-20220317145118028](E:\Document\Graphic\pic\image-20220317145118028.png)



![image-20220317140428269](E:\Document\Graphic\pic\image-20220317140428269.png)

第一步和第三步可能比较慢，你每个Texel都要走一遍

1.算周围某个范围内有多少遮挡物，他们的平均深度

2.根据第一步计算的遮挡物的平均深度来计PCF的模糊区域的大小

3.filter

解决办法1：

​	稀疏采样，但是这样的结果会导致噪声比较到，降噪的话可以做一下滤波

解决办法2：

用下面的VSM，主要是用了切比雪夫不等式

CSM：

VSM：

优化第一步：

![image-20220317144804235](E:\Document\Graphic\pic\image-20220317144804235.png)



深度一个mipmap，深度平方一个mipmap

如果用VSM提升PCSS第三步的速度，生成深度图的同时生成一个深度平方图

PCSS中我们知道自己的深度会去判断一个范围内有多少个物体遮挡当前深度，我们认为他的深度符合正太分布，所以我们就去拿平均值和方差，可以用mipmap来求平均值(只能是正方形)，summed area table，方差怎么求呢：方差=平均值平方的期望-期望的平方

切比雪夫不等式，根据函数的方差和均值，可以求出![image-20220317144036138](E:\Document\Graphic\pic\image-20220317144036138.png)

红色区域的最大值，一般均值再t的左边会准一些

###### 32.抗锯齿方法有哪些？描述原理

MSAA FSAA SSAA DLSS TAA

###### 33.如何渲染半透明物体

排序从远到近的绘制物体或者采用次序无关透明度

###### 34.comput shader

###### 35.介绍一下渲染方程

![image-20220317130206634](C:\Users\WellLink-ZZX\AppData\Roaming\Typora\typora-user-images\image-20220317130206634.png)

在半球各个方向进行积分计算每个方向的光照

Fr散射函数brdf项，求P点的辐射度wi：p点的方向(normal),wi入射方向

Li入射辐射度

###### 36.BRDF介绍

![image-20220317133556469](E:\Document\Graphic\pic\image-20220317133556469.png)

![image-20220317133215641](E:\Document\Graphic\pic\image-20220317133215641.png)

n是宏观表面法线，h是微表面法线

###### 37.菲尼尔项

菲涅尔方程返回的是一个物体表面光线被反射的百分比， 也就是我们反射方程中的参数ksks。Fresnel-Schlick近似接受一个参数`F0`，被称为0°入射角的反射(surface reflection at zero incidence)表示如果直接(垂直)观察表面的时候有多少光线会被反射。 这个参数`F0`会因为材料不同而不同，而且会因为材质是金属而发生变色

在PBR金属流中我们简单地认为大多数的绝缘体在`F0`为0.04的时候看起来视觉上是正确的，我们同时会特别指定`F0`当我们遇到金属表面并且给定反射率的时候

###### 38.光锥和路径追踪

基于路径的光纤追踪，屏幕空间的SSR算是一个基于路径的光纤追踪吧

###### 39.蒙特卡洛原理

其实就是求概率问题，引入随机数，把确定性问题转化成概率问题，比如扔色子，计算圆的面积，来求期望

###### 40.延迟渲染的实现

阶段一Gpass(几何处理阶段)，我们先渲染场景一次，之后获取对象的几何信息pos color normal specular值等

复杂的光照计算等

可以再+上正向渲染 比如绘制个灯泡啥的

###### 41.如何优化shader代码

​	在shader代码的编写中不能只依赖于编译器的优化，它的优化很有局限性，编译器只能去理解shader的语义，他可以移除无用的代码及资源，但并不会把一个add+mul代码优化成mad指令；重构源代码以减少所需的计算数量，而不是依赖编译器来应用优化。

一般情况下：避免if switch分支语句

避免使用for循环语句，特别是循环次数可变的

减少纹理采样次数

减少复杂数学函数的调用

降低浮点数的精度



通过dot点积代替add

向量化思维，拆分标量数据，放入到向量中，但不要产生额外的数学运算不然负优化

尽量使用内置函数

###### 42.Opengl和vulkan的区别

###### 43.法线为什么要成M的逆矩阵

![image-20220317112351927](E:\Document\Graphic\pic\image-20220317112351927.png)

非统一缩放会导致法线的方向发生变换，所有乘逆矩阵时为了让法线跟上变化

###### 44.了解哪些后处理方法

ssao ssr bloom 高斯模糊 均值模糊 散景模糊 HDR gamma 曝光调整 景深 抗锯齿

###### 45.高斯模糊的实现

对周围的像素取平均，使用高斯函数也可以也就是正态分布密度函数，一维度高斯：(u=0) σ是x的方差

![image-20220317111516242](E:\Document\Graphic\pic\image-20220317111516242.png)

二维高斯：

![image-20220317111607579](E:\Document\Graphic\pic\image-20220317111607579.png)

![image-20220317111631298](E:\Document\Graphic\pic\image-20220317111631298.png)

![](E:\Document\Graphic\pic\image-20220317111637443.png)

归一化：

![image-20220317111656650](E:\Document\Graphic\pic\image-20220317111656650.png)



###### 46.bloom的实现

泛光

1.检测亮度值是否大于指定值，如果是就保留颜色，否则就输出为黑色

2.对上一步的结果做高斯模糊，或者其它模糊

3.将2的结果与原来的进行混合

###### 47.给定球面两点求弧长

两点求角度 角度求弧长

###### 48.圆和矩阵相交判断

1.相交还是相切

​	相交有交点的话，围绕矩形内外各以R为半径绘制一个矩形，如果圆心处于心绘制的两个矩形围绕的圆内的话有交点

![image-20220317110722145](E:\Document\Graphic\pic\image-20220317110722145.png)

中间的黑色矩形框为原来的矩形。圆心在红色区域的话有交点。

如果绘制不出这样的图形 那么就必定不相交

###### 49.旋转矩阵的特征值是多少 

1

###### 50.如何理解特征值向量

Aa=λa，a为特征向量

###### 60.什么时候fs执行次数会比vs少

设置模板测试，只让少数的像素通过测试，或者点云？

